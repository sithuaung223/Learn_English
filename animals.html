<!DOCTYPE html>
<html>
<body>
<script type="text/javascript" src="temp.json"></script>
<script src="canvas.js"></script>

<script>
function main(){
	var selected_category = getParamFromURL("category");
	var vocabulary = JSON.parse(data);
	var meaning_dict = vocabulary[selected_category];

	var decks = {
		learn_deck: [],
		new_deck: [],
		display_learnDeck: false,
		current_card: null 
	};

	decks.new_deck = createDeckWithDictionary(document, meaning_dict);
	decks.current_card = decks.new_deck[0]

	var prev_btn = createButton(document, 'prev');
	var next_btn = createButton(document, 'next');
	var filter_learningCard = createCheckBox(document, "myFilter", false);
	// var backToMenu_btn = createButton(document, 'Back To Menu');

	var p_btn = {
		current: prev_btn,
		next: next_btn
	};
	var n_btn = {
		current: next_btn,
		next: next_btn
	};


    prev_btn.onclick = function() {
	   	decks.current_card = replaceWithNewCard(document, decks, p_btn);
    };
    next_btn.onclick = function() {
	   	decks.current_card = replaceWithNewCard(document, decks, n_btn);
    };
    
    filter_learningCard.onclick = function() {
		decks.display_learnDeck = filter_learningCard.checked;
		var display_deck = getChoosenDeckForDisplay(decks);
		removeCard(document, decks.current_card);
		insertNewCard(document, display_deck[0], p_btn.next);
		decks.current_card = display_deck[0];
    };

	document.body.appendChild(prev_btn);
	document.body.appendChild(decks.current_card.canvas);
	document.body.appendChild(decks.current_card.learnBox);
	document.body.appendChild(next_btn);
	document.body.appendChild(filter_learningCard);
	// document.body.appendChild(backToMenu_btn);
}

main();
</script> 

</body>
</html>

